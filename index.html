<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0f;
            color: #e4e4e7;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        header {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #27272a;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        h1 {
            font-size: 2rem;
            font-weight: 300;
            letter-spacing: -0.02em;
            color: #fafafa;
        }
        
        .subtitle {
            color: #71717a;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
        
        .last-updated {
            color: #52525b;
            font-size: 0.75rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: #18181b;
            border: 1px solid #27272a;
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.2s;
        }
        
        .stat-card:hover {
            border-color: #3f3f46;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 200;
            color: #fafafa;
            line-height: 1;
        }
        
        .stat-label {
            color: #71717a;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .summary-box {
            background: linear-gradient(135deg, #18181b 0%, #27272a 100%);
            border: 1px solid #3f3f46;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .summary-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #a1a1aa;
            margin-bottom: 0.5rem;
        }
        
        .summary-text {
            font-size: 1.125rem;
            color: #fafafa;
            line-height: 1.6;
        }
        
        .hourly-box {
            background: #18181b;
            border: 1px solid #27272a;
            border-radius: 12px;
            padding: 1rem 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #22c55e;
        }
        
        .hourly-label {
            font-size: 0.625rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #22c55e;
            margin-bottom: 0.25rem;
        }
        
        .hourly-text {
            font-size: 1rem;
            color: #e4e4e7;
        }
        
        .bullet-box {
            background: #18181b;
            border: 1px solid #27272a;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .bullet-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #a1a1aa;
            margin-bottom: 1rem;
        }
        
        .bullet-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .bullet-item {
            padding: 0.75rem 0;
            border-bottom: 1px solid #27272a;
            font-size: 0.9375rem;
            line-height: 1.5;
            color: #d4d4d8;
        }
        
        .bullet-item:last-child {
            border-bottom: none;
        }
        
        .bullet-item strong {
            color: #fafafa;
            font-weight: 500;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        
        @media (max-width: 900px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .panel {
            background: #18181b;
            border: 1px solid #27272a;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .panel-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #27272a;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .panel-title {
            font-size: 0.875rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #a1a1aa;
        }
        
        .panel-count {
            background: #27272a;
            color: #d4d4d8;
            font-size: 0.75rem;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
        }
        
        .panel-content {
            max-height: 500px;
            overflow-y: auto;
        }
        
        .email-item {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #27272a;
            transition: background 0.15s;
        }
        
        .email-item:hover {
            background: #27272a;
        }
        
        .email-item:last-child {
            border-bottom: none;
        }
        
        .email-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }
        
        .email-sender {
            font-weight: 500;
            color: #fafafa;
            font-size: 0.875rem;
        }
        
        .email-category {
            font-size: 0.625rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 0.125rem 0.5rem;
            border-radius: 4px;
            font-weight: 500;
        }
        
        .cat-work { background: #1e3a5f; color: #60a5fa; }
        .cat-finance { background: #14532d; color: #4ade80; }
        .cat-shopping { background: #7c2d12; color: #fb923c; }
        .cat-newsletter { background: #581c87; color: #c084fc; }
        .cat-social { background: #831843; color: #f472b6; }
        .cat-personal { background: #3f6212; color: #a3e635; }
        .cat-other { background: #3f3f46; color: #a1a1aa; }
        
        .email-subject {
            color: #d4d4d8;
            font-size: 0.9375rem;
            margin-bottom: 0.25rem;
            line-height: 1.4;
        }
        
        .email-preview {
            color: #71717a;
            font-size: 0.8125rem;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .email-date {
            color: #52525b;
            font-size: 0.75rem;
            margin-top: 0.5rem;
        }
        
        .task-item {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #27272a;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }
        
        .task-item:last-child {
            border-bottom: none;
        }
        
        .checkbox {
            width: 18px;
            height: 18px;
            border: 2px solid #3f3f46;
            border-radius: 4px;
            flex-shrink: 0;
            margin-top: 2px;
            cursor: pointer;
            transition: all 0.15s;
        }
        
        .checkbox:hover {
            border-color: #71717a;
        }
        
        .checkbox.checked {
            background: #22c55e;
            border-color: #22c55e;
        }
        
        .task-text {
            color: #d4d4d8;
            font-size: 0.875rem;
            line-height: 1.5;
        }
        
        .task-text.completed {
            text-decoration: line-through;
            color: #71717a;
        }
        
        .empty-state {
            padding: 3rem 1.5rem;
            text-align: center;
            color: #52525b;
        }
        
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 3rem;
            color: #71717a;
        }
        
        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid #27272a;
            border-top-color: #fafafa;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 0.75rem;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .error {
            padding: 2rem;
            text-align: center;
            color: #ef4444;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div>
                <h1>Email Dashboard</h1>
                <p class="subtitle">Smart email summary & task extraction</p>
            </div>
            <div class="last-updated" id="last-updated">Loading...</div>
        </header>
        
        <div class="hourly-box" id="hourly-summary" style="display: none;">
            <div class="hourly-label">üìä Last Hour</div>
            <div class="hourly-text" id="hourly-text"></div>
        </div>
        
        <div class="summary-box" id="tldr-summary" style="display: none;">
            <div class="summary-title">üìù TL;DR Summary</div>
            <div class="summary-text" id="tldr-text"></div>
        </div>
        
        <div class="bullet-box" id="bullet-summary" style="display: none;">
            <div class="bullet-title">üìã Email Summaries</div>
            <ul class="bullet-list" id="bullet-list"></ul>
        </div>
        
        <div class="summary-box" id="ai-summary" style="display: none;">
            <div class="summary-title">ü§ñ AI Summary</div>
            <div class="summary-text" id="ai-text"></div>
        </div>
        
        <div class="stats-grid" id="stats">
            <div class="loading"><div class="spinner"></div>Loading...</div>
        </div>
        
        <div class="dashboard-grid">
            <div class="panel">
                <div class="panel-header">
                    <span class="panel-title">Recent Emails</span>
                    <span class="panel-count" id="email-count">0</span>
                </div>
                <div class="panel-content" id="emails">
                    <div class="loading"><div class="spinner"></div>Loading emails...</div>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-header">
                    <span class="panel-title">Extracted Tasks</span>
                    <span class="panel-count" id="task-count">0</span>
                </div>
                <div class="panel-content" id="tasks">
                    <div class="loading"><div class="spinner"></div>Analyzing tasks...</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Static data embedded from build time
        const dashboardData = {
  "summary": {
    "total_emails": 20,
    "categories": {
      "social": 1,
      "newsletter": 2,
      "other": 7,
      "finance": 2,
      "work": 7,
      "shopping": 1
    },
    "task_count": 0,
    "event_count": 4,
    "tldr": "\ud83d\udce7 20 new emails | Top: 3 from GitHub, 2 from Vercel, 2 from aaryabanthia18@gmail.com | Categories: 7 other, 7 work, 2 newsletter",
    "hourly_summary": "No new emails in the last hour.",
    "bullet_summary": [
      "\ud83c\udf89 **\"Chase AI Community (Skool)\"**: New account/setup - 1 new notification since 8:17 am (Feb 17, 2026)",
      "\ud83d\udce7 **Medium Daily Digest**: Why the Smartest People in Tech Are Quietly Panicking Right Now |\r\n Shane Collin...",
      "\ud83d\udce7 **Neil Patel**: What your competitors see (that you don't)",
      "\ud83d\udce7 **Finimize Daily**: \ud83d\udc0e (Fire) horse power, baby",
      "\ud83d\udce7 **Matt Ganzak**: Aarya.banthia, Your  OpenClaw is exposed right now",
      "\ud83d\udce7 **\"Maria Wendt\"**: 167 comments & your first million",
      "\u26a0\ufe0f **Vercel**: Issue detected - Failed production deployment on team 'aaryabanthia18-gmailcom's\r\n projects'",
      "\ud83d\udd10 **GitHub**: Security/Access activity - [GitHub] A personal access token (classic) has been added to your\r\n account",
      "\ud83c\udf89 **Vercel**: New account/setup - New sign-in detected on your Vercel account",
      "\ud83c\udf89 **GitHub**: New account/setup - [GitHub] A new SSH authentication public key was added to your\r\n account"
    ]
  },
  "emails": [
    {
      "id": "21674",
      "subject": "1 new notification since 8:17 am (Feb 17, 2026)",
      "from": "\"Chase AI Community (Skool)\"",
      "date": "Tue, 17 Feb 2026 03:47:06 +0000 (UTC)",
      "category": "social",
      "tasks": [],
      "events": [],
      "preview": "Chase AI Community\r \r ( https://link.skool.com/ls/click?upn=u001.wK6x93jhdVos-2F3TofGJCJqYIach7-2FtMhH3n-2Fh9qG9l0GnWL4PQOS-2FZ5VkS4LpRux6cLnt8iwWzM...",
      "ai_summary": "Notification from \"Chase AI Community (Skool)\". Review contents for any important information."
    },
    {
      "id": "21673",
      "subject": "Why the Smartest People in Tech Are Quietly Panicking Right Now |\r\n Shane Collin...",
      "from": "Medium Daily Digest",
      "date": "Tue, 17 Feb 2026 02:10:00 +0000 (UTC)",
      "category": "newsletter",
      "tasks": [],
      "events": [],
      "preview": "Stories for Aaryabanthia\r @aaryabanthia18 (https://medium.com/@aaryabanthia18?source=email-8a35a6466075-1771279922804-digest.reader-------------------...",
      "ai_summary": "Notification from Medium Daily Digest. Review contents for any important information."
    },
    {
      "id": "21672",
      "subject": "What your competitors see (that you don't)",
      "from": "Neil Patel",
      "date": "Tue, 17 Feb 2026 00:39:04 +0000 (UTC)",
      "category": "other",
      "tasks": [],
      "events": [],
      "preview": "There is a blind spot in the industry right now.\r \r While everyone fights over the high-volume keywords, there are\r thousands of long-tail keywords (...",
      "ai_summary": "Notification from Neil Patel. Review contents for any important information."
    },
    {
      "id": "21671",
      "subject": "\ud83d\udc0e (Fire) horse power, baby",
      "from": "Finimize Daily",
      "date": "Mon, 16 Feb 2026 18:23:32 -0500 (EST)",
      "category": "other",
      "tasks": [],
      "events": [],
      "preview": "",
      "ai_summary": "Notification from Finimize Daily. Review contents for any important information."
    },
    {
      "id": "21670",
      "subject": "Aarya.banthia, Your  OpenClaw is exposed right now",
      "from": "Matt Ganzak",
      "date": "Mon, 16 Feb 2026 21:50:28 +0000",
      "category": "finance",
      "tasks": [],
      "events": [],
      "preview": "Here\u2019s how to lock it down in 30 minutes\r \r Hey Aarya.banthia,\r \r Welcome in. You signed up because you\u2019re building with OpenClaw, and I respect that....",
      "ai_summary": "Notification from Matt Ganzak. Review contents for any important information."
    },
    {
      "id": "21669",
      "subject": "167 comments & your first million",
      "from": "\"Maria Wendt\"",
      "date": "Mon, 16 Feb 2026 15:04:00 -0600",
      "category": "work",
      "tasks": [],
      "events": [],
      "preview": "this works \u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c\u00a0\u200c...",
      "ai_summary": "Notification from \"Maria Wendt\". Review contents for any important information."
    },
    {
      "id": "21668",
      "subject": "Failed production deployment on team 'aaryabanthia18-gmailcom's\r\n projects'",
      "from": "Vercel",
      "date": "Mon, 16 Feb 2026 20:39:37 +0000",
      "category": "work",
      "tasks": [],
      "events": [],
      "preview": "Hey aaryabanthia18-8536,\r  completed an activity.\r Something happened that you should be aware of.\r Thanks,\r The team @ \r \r \r --\r \r \r If you've got...",
      "ai_summary": "Deployment or process failed. Check details and take corrective action if needed."
    },
    {
      "id": "21667",
      "subject": "[GitHub] A personal access token (classic) has been added to your\r\n account",
      "from": "GitHub",
      "date": "Mon, 16 Feb 2026 12:33:40 -0800",
      "category": "work",
      "tasks": [],
      "events": [],
      "preview": "Hey aaryabanthia18-collab!\r \r A personal access token (classic) \"OpenClaw\" with admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:publ...",
      "ai_summary": "New authentication credentials added to your account. Verify this was intentional."
    },
    {
      "id": "21666",
      "subject": "New sign-in detected on your Vercel account",
      "from": "Vercel",
      "date": "Mon, 16 Feb 2026 20:17:03 +0000",
      "category": "other",
      "tasks": [],
      "events": [],
      "preview": "Vercel\r \r Hi aaryabanthia18-8536,\r \r Your Vercel account aaryabanthia18@gmail.com was recently\r signed-in from a new location, device or browser.\r \r L...",
      "ai_summary": "Vercel account activity notification. Review for any issues."
    },
    {
      "id": "21665",
      "subject": "[GitHub] A new SSH authentication public key was added to your\r\n account",
      "from": "GitHub",
      "date": "Mon, 16 Feb 2026 12:16:37 -0800",
      "category": "other",
      "tasks": [],
      "events": [],
      "preview": "The following SSH key was added to your account:\r \r OpenClaw Server\r SHA256:WPzHMbCWo4nBCuJ2U3vG3WllT3W0M6/+JyXfufdkN9Q\r \r If you believe this key was...",
      "ai_summary": "New authentication credentials added to your account. Verify this was intentional."
    },
    {
      "id": "21664",
      "subject": "\ud83d\ude80 Your GitHub launch code",
      "from": "GitHub",
      "date": "Mon, 16 Feb 2026 12:12:15 -0800",
      "category": "other",
      "tasks": [],
      "events": [],
      "preview": "Here's your GitHub launch code!\r \r Continue signing up for GitHub by entering the code below:\r \r 73663095\r \r You can enter it by visiting the link bel...",
      "ai_summary": "GitHub account notification. Check for any required actions."
    },
    {
      "id": "21663",
      "subject": "WhatsApp QR Code - FRESH - Scan NOW!",
      "from": "aaryabanthia18@gmail.com",
      "date": "Mon, 16 Feb 2026 12:08:36 -0800 (PST)",
      "category": "other",
      "tasks": [],
      "events": [],
      "preview": "Hi,  FRESH QR CODE - SCAN IMMEDIATELY!  This QR code expires in 60 seconds. Scan it NOW!  Instructions: 1. Open WhatsApp on your phone 2. Settings \u2192 L...",
      "ai_summary": "Notification from aaryabanthia18@gmail.com. Review contents for any important information."
    },
    {
      "id": "21662",
      "subject": "WhatsApp QR Code - Scan Now!",
      "from": "aaryabanthia18@gmail.com",
      "date": "Mon, 16 Feb 2026 12:07:03 -0800 (PST)",
      "category": "other",
      "tasks": [],
      "events": [],
      "preview": "Hi,  Here is your WhatsApp QR code. Scan it immediately as it expires in 60 seconds!  Instructions: 1. Open WhatsApp on your phone 2. Go to Settings \u2192...",
      "ai_summary": "Notification from aaryabanthia18@gmail.com. Review contents for any important information."
    },
    {
      "id": "21661",
      "subject": "Clawdbot + apps = m*ney",
      "from": "Marcin AI",
      "date": "Mon, 16 Feb 2026 20:01:41 +0000",
      "category": "finance",
      "tasks": [],
      "events": [],
      "preview": "You've seen what ClawdBot can do.  But here's where the real money in AI is right now.  Building mobile apps. On the App Store. With payments, subscri...",
      "ai_summary": "Notification from Marcin AI. Review contents for any important information."
    },
    {
      "id": "21660",
      "subject": "\ud83e\udd5b Raoul Pal's wildest thesis yet\ud83e\udd2f",
      "from": "Milk Road",
      "date": "Mon, 16 Feb 2026 20:01:41 +0000 (UTC)",
      "category": "work",
      "tasks": [],
      "events": [],
      "preview": "View image: (https://media.beehiiv.com/cdn-cgi/image/fit=scale-down,format=auto,onerror=redirect,quality=80/uploads/asset/file/776d8c0b-1915-4542-a8ed...",
      "ai_summary": "Notification from Milk Road. Review contents for any important information."
    },
    {
      "id": "21659",
      "subject": "Confirm Your Email (tap)",
      "from": "\"Boring Studios\"",
      "date": "Mon, 16 Feb 2026 20:00:41 +0000",
      "category": "newsletter",
      "tasks": [],
      "events": [],
      "preview": "Did we get your email correct?\r \r Tap the button below to confirm your email.\r \r [Yes, it's correct](https://manage.kmail-lists.com/subscriptions/subs...",
      "ai_summary": "Notification from \"Boring Studios\". Review contents for any important information."
    },
    {
      "id": "21658",
      "subject": "Connect your calendar in a click",
      "from": "\"Notion Team\"",
      "date": "Mon, 16 Feb 2026 19:39:16 +0000",
      "category": "work",
      "tasks": [],
      "events": [
        {
          "type": "meeting",
          "details": "Detected in email"
        },
        {
          "type": "call",
          "details": "Detected in email"
        }
      ],
      "preview": "Connect Notion Calendar and automate meeting notes ( https://www.notion.com/product/calendar/download?utm_campaign=%5BJW%5D%5Bv2%5D+AI+Meeting+Notes+-...",
      "ai_summary": "Notification from \"Notion Team\". Review contents for any important information."
    },
    {
      "id": "21657",
      "subject": "Something big just happened in AI",
      "from": "Serge Gatari",
      "date": "Mon, 16 Feb 2026 19:06:26 +0000 (GMT)",
      "category": "work",
      "tasks": [],
      "events": [
        {
          "type": "call",
          "details": "Detected in email"
        }
      ],
      "preview": "Aar, I had a call earlier with my engineering team.\r \r And the last few days something big happened in the world of AI.\r \r The level of autonomy that...",
      "ai_summary": "Notification from Serge Gatari. Review contents for any important information."
    },
    {
      "id": "21656",
      "subject": "\ud83e\udd9e OpenClaw for Founders: The 8 Agents That Will Replace Half Your Team \ud83d\udd25",
      "from": "Guillermo Flor from Product...",
      "date": "Mon, 16 Feb 2026 18:50:00 +0000",
      "category": "work",
      "tasks": [],
      "events": [
        {
          "type": "call",
          "details": "Detected in email"
        }
      ],
      "preview": "View this post on the web at https://www.productmarketfit.tech/p/openclaw-for-founders-the-8-agents\r \r Hey everyone!\r The past few weeks have been wil...",
      "ai_summary": "Notification from Guillermo Flor from Product.... Review contents for any important information."
    },
    {
      "id": "21655",
      "subject": "Holiday Heroes are back",
      "from": "PizzaExpress",
      "date": "Mon, 16 Feb 2026 19:24:58 +0100 (CET)",
      "category": "shopping",
      "tasks": [],
      "events": [],
      "preview": "<!DOCTYPE html>\r <html xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\" lang=\"en\">\r <head></head>\r     <head>...",
      "ai_summary": "Notification from PizzaExpress. Review contents for any important information."
    }
  ],
  "tasks": [],
  "events": [
    {
      "type": "meeting",
      "details": "Detected in email"
    },
    {
      "type": "call",
      "details": "Detected in email"
    },
    {
      "type": "call",
      "details": "Detected in email"
    },
    {
      "type": "call",
      "details": "Detected in email"
    }
  ],
  "last_updated": "2026-02-17T13:00:28.552701",
  "ai_summary": {
    "overall_summary": "You have 20 emails in your inbox. Most are from 3 from GitHub, 2 from Vercel, 2 from aaryabanthia18@gmail.com. \u26a0\ufe0f 1 emails require attention (failures/errors).",
    "total_emails": 20
  }
};
        
        function getCategoryClass(cat) {
            return 'cat-' + cat;
        }
        
        function formatDate(dateStr) {
            try {
                const date = new Date(dateStr);
                const now = new Date();
                const diff = now - date;
                
                if (diff < 24 * 60 * 60 * 1000) {
                    return 'Today';
                } else if (diff < 48 * 60 * 60 * 1000) {
                    return 'Yesterday';
                }
                return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
            } catch {
                return dateStr;
            }
        }
        
        function renderDashboard(data) {
            // Update last updated time
            if (data.last_updated) {
                const date = new Date(data.last_updated);
                document.getElementById('last-updated').textContent = 
                    'Last updated: ' + date.toLocaleString();
            }
            
            // Update TL;DR summary
            if (data.summary?.tldr) {
                document.getElementById('tldr-summary').style.display = 'block';
                document.getElementById('tldr-text').textContent = data.summary.tldr;
            }
            
            // Update hourly summary
            if (data.summary?.hourly_summary) {
                document.getElementById('hourly-summary').style.display = 'block';
                document.getElementById('hourly-text').textContent = data.summary.hourly_summary;
            }
            
            // Update bullet summaries
            if (data.summary?.bullet_summary && data.summary.bullet_summary.length > 0) {
                document.getElementById('bullet-summary').style.display = 'block';
                const bulletHtml = data.summary.bullet_summary.map(item => 
                    `<li class="bullet-item">${item}</li>`
                ).join('');
                document.getElementById('bullet-list').innerHTML = bulletHtml;
            }
            
            // Update AI summary
            if (data.ai_summary?.overall_summary) {
                document.getElementById('ai-summary').style.display = 'block';
                document.getElementById('ai-text').textContent = data.ai_summary.overall_summary;
            }
            
            // Update stats
            const statsHtml = `
                <div class="stat-card">
                    <div class="stat-value">${data.summary?.total_emails || 0}</div>
                    <div class="stat-label">Total Emails</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${data.summary?.task_count || 0}</div>
                    <div class="stat-label">Tasks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${data.summary?.event_count || 0}</div>
                    <div class="stat-label">Events</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${Object.keys(data.summary?.categories || {}).length}</div>
                    <div class="stat-label">Categories</div>
                </div>
            `;
            document.getElementById('stats').innerHTML = statsHtml;
            
            // Update emails
            const emails = data.emails || [];
            document.getElementById('email-count').textContent = emails.length;
            const emailsHtml = emails.map(email => `
                <div class="email-item">
                    <div class="email-header">
                        <span class="email-sender">${email.from}</span>
                        <span class="email-category ${getCategoryClass(email.category)}">${email.category}</span>
                    </div>
                    <div class="email-subject">${email.subject}</div>
                    <div class="email-preview">${email.preview}</div>
                    ${email.ai_summary ? `<div class="email-ai-summary" style="margin-top: 0.5rem; padding: 0.5rem; background: #27272a; border-radius: 6px; font-size: 0.8125rem; color: #a1a1aa;">ü§ñ ${email.ai_summary}</div>` : ''}
                    <div class="email-date">${formatDate(email.date)}</div>
                </div>
            `).join('');
            document.getElementById('emails').innerHTML = emailsHtml || '<div class="empty-state">No emails found</div>';
            
            // Update tasks
            const tasks = data.tasks || [];
            document.getElementById('task-count').textContent = tasks.length;
            const tasksHtml = tasks.map((task, index) => `
                <div class="task-item">
                    <div class="checkbox" onclick="toggleTask(this)"></div>
                    <span class="task-text">${task}</span>
                </div>
            `).join('');
            document.getElementById('tasks').innerHTML = tasksHtml || '<div class="empty-state">No tasks found</div>';
        }
        
        function toggleTask(checkbox) {
            checkbox.classList.toggle('checked');
            const taskText = checkbox.nextElementSibling;
            taskText.classList.toggle('completed');
        }
        
        // Render on load
        renderDashboard(dashboardData);
    </script>
</body>
</html>
